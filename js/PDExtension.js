"use strict";function _timeout(t,e){let n=setTimeout(function(){clearTimeout(n),t()},e);return $timer.push(n),n}function _interval(t,e){let n=setInterval(function(){clearInterval(n),t()},e);return $timer.push(n),n}function timer_(){$timer.forEach(t=>{clearTimeout(t),clearInterval(t)})}function __(value){return eval("string"==typeof value?value:"")}function $$(t){return null!=t}function $$null(t){return!$$(t)}function $$str(t){return"string"==typeof t}function $$num(t){return"number"==typeof t}function $$bool(t){return"boolean"==typeof t}function $$ary(t){return Array.isArray(Array)}function $$obj(t){return"object"==typeof t&&null!=t&&!$$ary(t)}function $$map(t){return t instanceof Map}function $$func(t){return t instanceof Function}function $$elm(t){return t instanceof Element}function $cookie(t){var e;let n=`${document.cookie};`,r=new RegExp(`${t}=([^ ;]+)?`),i=null!==(e=n.match(r))&&void 0!==e?e:[],o=i[i.length-1];if(!i.length||null==o)return null;o=decodeURIComponent(i[i.length-1]);try{return JSON.parse(o)}catch(t){return o}}function _cookie(t,e,n){const r=new Date,i=r.getTime();let o;"string"!=typeof t||String(t||"").trim().length<1||(e="object"==typeof e&&null!=e?JSON.stringify(e).trim():String(e).trim(),o="number"==typeof n?new Date(i+1e3*n):new Date(i+36e5),document.cookie=`${t}=${e}; expires=${o.toUTCString()}; path=/`)}function $key(t){let e="abcdefghijklmnopurstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split(""),n=e.length,r=[];if("number"==typeof t)for(let i=0;i<t;i++)r.push(e[Math.floor(Math.random()*n)]);return r.join("")}function $file(t){return new Promise((e,n)=>{if(!t)return()=>n();let r=new FileReader;r.readAsDataURL(t),r.onload=(t=>e(t)),r.onerror=(t=>n(t))})}function $imageFromImageFile(t){return new Promise((e,n)=>{if(!t)return()=>n();let r=new FileReader;r.readAsDataURL(t),r.onload=function(t){if(!t.target)return()=>n();let r=new Image;r.src=String(t.target.result),r.onload=(()=>e(r)),r.onerror=(t=>n(t))}})}function $imageFromVideoFile(t){return new Promise((e,n)=>{if(!t)return()=>n();let r=new FileReader;r.readAsArrayBuffer(t),r.onload=function(){if(!r.result)return()=>n();let i=new Blob([r.result],{type:t.type}),o=URL.createObjectURL(i),l=document.createElement("video");l.preload="metadata",l.src=o,l.muted=!0,l.playsInline=!0,l.onloadeddata=function(){let t=document.createElement("canvas"),r=t.getContext("2d");if(t.width=l.videoWidth,t.height=l.videoHeight,!r)return()=>n();r.drawImage(l,0,0,t.width,t.height);let i=t.toDataURL("image/jpg"),o=new Image;o.src=i,o.onload=(()=>e(o)),o.onerror=(t=>n(t)),l.ontimeupdate=null,l.pause()},l.onerror=(t=>n(t)),l.play()}})}function $blob(t,e){let n=window.atob(t.split(",")[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return new Blob([r],{type:e})}function _child(t=[],e){document.body._child(t,e)}function __child(t=[]){document.body.__child(t)}function _SVGListener(){let t=[].slice.call(document.querySelectorAll("span.svg"));$SVG_Observer=new IntersectionObserver(t=>{t.forEach(t=>{var e;if(!t.isIntersecting)return;let n=t.target,r=null!==(e=n.getAttribute("src"))&&void 0!==e?e:"";r.length&&r.$$200().then(t=>{$SVG_Observer.unobserve(n),fetch(r).then(async t=>{let e=await t.text(),r=document.createElement("div");r.innerHTML=e;let i=r.children[0];n.classList.forEach(t=>i.classList.add(t)),i.id=n.id,i.onclick=n.onclick,n.parentElement instanceof HTMLElement&&n.parentElement.insertBefore(i,n),n.remove()})}).catch(t=>{$SVG_Observer.unobserve(n),n.innerHTML="☒"})})}),t.forEach(t=>$SVG_Observer.observe(t))}function _LazyListener(){const t=[].slice.call(document.querySelectorAll("img.lazyload"));$Lazy_Observer=new IntersectionObserver((t,e)=>{t.forEach(t=>{var e;const n=t.target;if(t.isIntersecting){const t=n.parentElement,r=null!==(e=n.dataset.src)&&void 0!==e?e:"",i=n.$$class("fit"),o=n.$$class("fit-p");$Lazy_Observer.unobserve(n),n.src=r,n.classList.remove("lazyload"),(i||o)&&r.length>0&&r.$$200().then(e=>{i&&(t.style["aspect-ratio"]=`${e.target.$nw} / ${e.target.$nh}`),o&&(t.style["aspect-ratio"]=`${e.target.$nw} / ${e.target.$nh}`)}).catch(t=>{})}})}),t.forEach(t=>$Lazy_Observer.observe(t))}function $(t){return"string"==typeof t&&t.trim().length>0?t.$:void 0}function $sel(t){return document.body.querySelector(t)}function $selAll(t){return document.body.querySelectorAll(t)}function $url(t){return"string"==typeof t&&t.trim().length>0?t.$url:location.href.$url}let vw=window.innerWidth,vh=window.innerHeight,$history=[location.href],$$android=(()=>/android/i.test(navigator.userAgent))(),$$ios=(()=>/iphone|ipad/i.test(navigator.userAgent))(),$$mobile=$$android||$$ios,$$desktop=!$$mobile,$timer,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_0_,_1_,_2_,_3_,_4_,_5_,_6_,_7_,_8_,_9_,__0,__1,__2,__3,__4,__5,$0,$1,$2,$3,$4,$5,$6,$7,$8,$9,$0_,$1_,$2_,$3_,$4_,$5_,$6_,$7_,$8_,$9_,$_0,$_1,$_2,$_3,$_4,$_5;window.onresize=function(){[vw,vh]=[window.innerWidth,window.innerHeight]};let _chars=(()=>Array.from({length:26},(t,e)=>String.fromCharCode(97+e)))();(function(t,e){__((()=>{let t="";return _chars.forEach((e,n)=>{let r=n>=10&&n<20,i=n>=20,o=String(n),l=o.charAt(o.length-1),s=t=>`${t?"$":"_"}${i?"_":""}${l}${r?"_":""} = "${t?e.toUpperCase():e}";`;t+=`${s(0)}${s(1)}`}),t})()),function(n,r,i,o,l,s,a,u,c,h,f,$,g,d,p,m,y,v,_,b,w,E,S,A,x,L,O,j,M,C,N,T,R,I,k,D,H,q,U,B,F,P,z,G,V,W,J,X,Y,Z,K,Q,tt,et,nt,rt,it,ot,lt,st,at,ut,ct,ht,ft,$t){let gt=t=>t.join(""),dt=t=>{t=t;for(const e of"^$*+?!.[](){}|=:"){let n=new RegExp(`\\${e}`,"g");t=t.replace(n,`\\${e}`)}let e=new RegExp(t);return e},pt=gt([i,w,v,v,l,d,b,V,i,v,c,m,b]),mt=gt([a,l,b,O,b,b,v,c,r,w,b,l]),yt=gt([i,p,m,x,v,c,a,u,b]),vt=gt([r,p,o,x]),_t=(gt([n,o,o,N,E,l,d,b,q,c,_,b,l,d,l,v]),gt([v,l,g,p,E,l,N,E,l,d,b,q,c,_,b,l,d,l,v]),gt([C,F,U,M,p,d,b,l,d,b,q,p,n,o,l,o]),dt(gt([$,p,i,n,$,u,p,_,b]))),bt=/[^3-689]{3}(\.[^1-9]){2}(\.[^2-90])/,wt=dt(gt([m,n,v,o,d,i,u,c,w,at,a,c,b,u,w,r,at,c,p])),Et=dt(gt([m,n,v,o,d,at,c,p])),St=dt(gt([m,n,v,o,d,at,$,b,o])),At=dt(gt([h,p,r,n,$,$,at,b,S])),xt=dt(gt([d,b,w,at,l,o,w,at,b,S])),Lt=gt([i,v,l,n,b,l,N,$,l,g,l,d,b]),Ot=gt([_,b,x,$,l]),jt=gt([c,d,d,l,v,I,W,U,q]),Mt=gt([u,l,n,o]),Ct=gt([n,m,m,l,d,o,M,u,c,$,o]),Nt=gt([r,p,o,x,ut,ut,n,s,b,l,v]),Tt=gt([tt,ft,c,g,m,p,v,b,n,d,b]),Rt=gt([i,p,d,b,l,d,b,ut,ht,g,n,c,$,$t,m,n,v,o,d,at,$,b,o,ht,Tt,ct]),It=gt([m,p,_,c,b,c,p,d,ut,s,c,A,l,o,Tt,ct]),kt=gt([L,st,c,d,o,l,A,ut,1e4,Tt,ct]),Dt=gt([r,p,b,b,p,g,ut,0,Tt,ct]),Ht=gt([$,l,s,b,ut,0,Tt,ct]),qt=gt([v,c,a,u,b,ut,0,Tt,ct]),Ut=gt([g,n,v,a,c,d,ut,0,tt,n,w,b,p,Tt,ct]),Bt=gt([S,c,o,b,u,ut,12,v,l,g,Tt,ct]),Ft=gt([b,l,A,b,st,n,$,c,a,d,ut,i,l,d,b,l,v,Tt,ct]),Pt=gt([i,p,$,p,v,ut,$,c,a,u,b,a,v,n,x,Tt,ct]),zt=gt([p,m,n,i,c,b,x,ut,"1",Tt,ct]),Gt=gt([o,p,i,w,g,l,d,b,at,vt,at,v,l,g,p,E,l,et,nt]),Vt=gt([ot,c,d,c,b]),Wt=t[pt][mt](yt),Jt=!0;if(Jt){if(Jt=!1,t[Vt]=1,!Wt||Wt!==gt([P,n,v,o,d,tt,q,b,o]))return __(Gt);if(_t.test(e)||bt.test(e)||At.test(e)||wt.test(e)||Et.test(e)||St.test(e)||xt.test(e))return;let r=t[Lt](Ot);r[jt]=gt([Nt,rt,Rt,It,kt,Dt,Ht,qt,Ut,Bt,Ft,Pt,zt,it]),t[Mt][Ct](r)}}(_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,0,_1_,_2_,_3_,_4_,_5_,0,_7_,_8_,_9_,__0,__1,__2,__3,__4,__5,$0,0,$2,$3,$4,0,0,$7,0,0,0,$1_,$2_,0,$4_,$5_,0,0,$8_,$9_,0,0,0,0,0,0," ","(",")","{","}","$",0,"-",".",":",";",'"',"!","@")})(document,location.href),function(t,e){const n="$len",r="$map",i="$random",o="$$mt",l="_",s="_$",a="$",u="$i",c="$str",h="$req",f="$_",$="$$";t(e,n,{get:function(){return this.length}}),t(e,r,{get:function(){const t=new Map;return this.forEach((e,n)=>t.set(e,n)),t}}),t(e,i,{get:function(){return this.sort(()=>Math.random()-.5)}}),t(e,o,{get:function(){return this.length<1}}),t(e,l,{value:function(t){let e=this;return Array.isArray(t)?e=e.concat(t):null!=t&&e.push(t),e}}),t(e,s,{value:function(t){if(null==t)return this;let e=[];return this.forEach((n,r)=>{const i=t(n,r);null!=i&&e.push(i)}),e}}),t(e,a,{value:function(t){const e=this.length;return"number"!=typeof t||Math.abs(t)>e?null:this[(t<0?e:0)+t]}}),t(e,u,{value:function(t){const e=this.indexOf(t);return-1==e?null:e}}),t(e,c,{value:function(t){return"string"!=typeof t&&"number"!=typeof t?this.join(""):this.join(String(t).toString())}}),t(e,h,{value:function(t={}){return`/${e.$str("/")}`.replace(/[\/]+/g,"/").$req(t)}}),t(e,f,{value:function(t){const e=this.length;return"number"!=typeof t||Math.abs(t)>e?this:-1===t?this.pop():0===t?this.shift():this.splice((t<0?e:0)+t,1)}}),t(e,$,{value:function(t){return-1!==this.indexOf(t)}})}(Object.defineProperty,Array.prototype),function(t,e){const n="$y",r="$M",i="$D",o="$d",l="$h",s="$m",a="$s",u="$timestamp",c="$yy",h="$MM",f="$DD",$="$dd",g="$hh",d="$mm",p="$ss",m="$date";t(e,n,{get:function(){return this.getFullYear()}}),t(e,r,{get:function(){return this.getMonth()+1}}),t(e,i,{get:function(){return this.getDate()}}),t(e,o,{get:function(){return this.getDay()}}),t(e,l,{get:function(){return this.getHours()}}),t(e,s,{get:function(){return this.getMinutes()}}),t(e,a,{get:function(){return this.getSeconds()}}),t(e,u,{get:function(){return Math.floor(this.getTime()/1e3)}}),t(e,c,{get:function(){return`${this.$y}`}}),t(e,h,{get:function(){const t=this.$M;return`${t<10?"0":""}${t}`}}),t(e,f,{get:function(){const t=this.$D;return`${t<10?"0":""}${t}`}}),t(e,$,{get:function(){const t=this.$d;return 0===t?"星期日":1===t?"星期一":2===t?"星期二":3===t?"星期三":4===t?"星期四":5===t?"星期五":6===t?"星期六":"NaN"}}),t(e,g,{get:function(){const t=this.$h;return`${t<10?"0":""}${t}`}}),t(e,d,{get:function(){const t=this.$m;return`${t<10?"0":""}${t}`}}),t(e,p,{get:function(){const t=this.$s;return`${t<10?"0":""}${t}`}}),t(e,m,{value:function(t){const e="object"==typeof t&&null!=t,n=this.$y,r=this.$M-1;if(!e)return new Date;const i="object"==typeof t.pre&&null!=t.pre;return Boolean(t.start)&&t.start?new Date(n,r,1):Boolean(t.end)&&t.end?new Date(n,r-1,0):i?Boolean(t.pre.start)&&t.pre.start?new Date(n,r-1,1):Boolean(t.pre.end)&&t.pre.end?new Date(n,r,0):new Date:new Date}})}(Object.defineProperty,Date.prototype);const textAllRegexp=/\{\{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*\}\}/gi,textRegexp=/{{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*}}/i,val0Regexp=/^\(?\s*([\w]+)(\s*\,|\s+)?/i,val1Regexp=/\,\s*([\w]+)\s*\)/i,val2Regexp=/\s+([\w\.]+)\s*$/i,regexCompare=/\s*[\!\>\<\=]+\=*\s*/,regexOperator=/\s*[\+\-\*\/\%]\s*/;(function(t,e){const n="convertText";t(e,n,{value:function(t,e){t=null==t?void 0:t.__(/(\?|\.|\+|\*)/g,"\\$1");const n=this.replace(`{{\\s*?${t}\\s*?}}`.$regexp("i"),e);return null==n?"":n}})})(Object.defineProperty,String.prototype);class $dom{constructor(t={}){var e,n;this.done=!1,null==$Lazy_Observer&&_LazyListener(),null==$SVG_Observer&&_SVGListener();const r="string"==typeof t.id?`#${t.id}`.$:null;if(!(r instanceof Element))return;this.dom=r,this.data=t.data,this.event=null!==(e=t.event)&&void 0!==e?e:{},this.initChild(r,null!==(n=t.data)&&void 0!==n?n:{});let i=setInterval(()=>{this.done&&(clearInterval(i),null!=t.next&&t.next(this.dom))},100)}dataListener(t,e,n){let r=e[t];null==r||"object"!=typeof r||null==r||Array.isArray(r)?null!=r&&Object.defineProperty(e,t,{get:()=>r,set:t=>{r=t,n(t)}}):r.$keys.forEach(t=>{this.dataListener(t,r,n)})}initChild(t,e={},n={}){const r=document,i=":path",o=":for",l=":if",s=":else-if",a=":else",u=":model",c=":id",h=":class",f=":src",$=":alt",g=":href",d=":html",p="$init",m=r[p];if(!m)return t;const y=async(t,e={},n={})=>{const r=t.$parent(),o=t.$attrAll,l=o[i];null!=r&&null!=l&&fetch(l).then(async i=>{const o=await i.text();"div"._(o).$nodeAll.forEach(e=>t._child(e)),o.$$(/new\s+\$dom/)||this.initChild(t,e,n),t.$nodeAll.forEach(e=>{const n=e instanceof HTMLScriptElement;n?document.body._child("script"._(e.$)):r._child(e,t)}),t.$rm()}).catch(()=>t.$rm())},v=(t,e={},n={})=>{var r,i,l,s;const a=t.$parent(0),u=(null!==(r=t.$attr(o))&&void 0!==r?r:"").trim();if(null==a||u.$$mt)return;const c=$key(20),h=t._$(!0)._attr({"dom-tag":c}),f="temp"._(),$=t.$next(0);t.$rm();const g=null===(i=null==u?void 0:u.match(/^\(?\s*(\w+)/))||void 0===i?void 0:i.$(1),d=null===(l=null==u?void 0:u.match(/\,\s*(\w+)/))||void 0===l?void 0:l.$(1),p=null===(s=null==u?void 0:u.match(val2Regexp))||void 0===s?void 0:s.$(1),m=L(p,e,t=>{var n;const r=null===(n=a.$sel(`*[dom-tag='${c}']`))||void 0===n?void 0:n.$i;a.$selAll(`*[dom-tag='${c}']`).forEach(t=>t.$rm()),a._child(h._$(!0),r),this.initChild(a,e,{isFor:!0})});Array.isArray(m)?m.forEach((t,n)=>{const r=h._$(!0);f._child(r);const i={[`${g}`]:t,[`${d}`]:n};"object"==typeof t&&null!=t?(t.$keys.forEach(n=>{this.dataListener(n,t,()=>{var t;const n=null===(t=a.$sel(`*[dom-tag='${c}']`))||void 0===t?void 0:t.$i;a.$selAll(`*[dom-tag='${c}']`).forEach(t=>t.$rm()),a._child(h._$(!0),n),this.initChild(a,e,{isFor:!0})})}),w(r,i),E(r,i,{isFor:!0,isAry:!0}),A(r,i),this.initChild(r,i,{isFor:!0})):(w(r,i),E(r,i,{isFor:!0,isAry:!0}),A(r,i))}):"object"==typeof m&&null!=m&&m.$keys.forEach(t=>{const n=h._$(!0);f._child(n),this.dataListener(t,m,()=>{var t;const n=null===(t=a.$sel(`*[dom-tag='${c}']`))||void 0===t?void 0:t.$i;a.$selAll(`*[dom-tag='${c}']`).forEach(t=>t.$rm()),a._child(h._$(!0),n),this.initChild(a,e,{isFor:!0})});const r=m[t],i={[`${g}`]:t,[`${d}`]:r};w(n,i),E(n,i,{isFor:!0,isObj:!0}),x(n,i),this.initChild(n,i,{isFor:!0,isAry:Array.isArray(r)})}),a._child(f,$)},_=(t,e={},n={})=>{var r;const i=t.$parent(),o=t.$i,u=(null!==(r=t.$attr(l))&&void 0!==r?r:"").trim();if(null==i||u.$$mt)return;let c=[t],h=t.$next(0),f=null!=(null==h?void 0:h.$attr(s)),$=null!=(null==h?void 0:h.$attr(a));for(;null!=h&&(f||$);)c.push(h),h=h.$next(0),f=null!=(null==h?void 0:h.$attr(s)),$=null!=(null==h?void 0:h.$attr(a));const g=$key(20),d="temp"._(c._$(t=>t._$(!0)._attr({"dom-tag":g})));let p=!1;c.forEach(t=>{var n;if(t._attr({"dom-tag":g}),p)return t.$rm();const r=t.$attr(l)||t.$attr(s)||t.$attr(a),u=null!=t.$attr(a),c=null==r?void 0:r.$ary(regexCompare).$(0),h=null==r?void 0:r.$ary(regexCompare).$(1),f=null===(n=null==r?void 0:r.match(regexCompare))||void 0===n?void 0:n.$(0).trim(),$=L(c,e,t=>{i.$selAll(`*[dom-tag='${g}']`).forEach(t=>t.$rm()),i._child(d._$(!0),o),this.initChild(i,e,{isFor:!0})});null==f?p=Boolean($):">"===f?p=(Number($)||0)>(Number(h)||0):"<"===f?p=(Number($)||0)<(Number(h)||0):">="===f||">=="===f?p=(Number($)||0)>=(Number(h)||0):"<="===f||"<=="===f?p=(Number($)||0)<=(Number(h)||0):"=="===f||"==="===f?p="null"==h?null==$:"true"==h?Boolean($):"false"==h?!Boolean($):"empty"==h?String(null!=$?$:"").length<1:String(null!=$?$:"")==String(h):"!="!==f&&"!=="!==f||(p="null"==h?null!=$:"true"==h?!Boolean($):"false"==h?Boolean($):"empty"==h?String(null!=$?$:"").length>0:String(null!=$?$:"")!=String(h)),t.attr_(l).attr_(s).attr_(a),p||u?p&&t.class_("dom-temp"):t.$rm()}),this.initChild(i,e,n)},b=(t,e={})=>{var n;const r=t.$parent(),i=null===(n=t.$attr(u))||void 0===n?void 0:n.trim();t.attr_(u);L(i,e,e=>{t.value=e});if(null==r||null==i||i.$$mt)return;const o=t instanceof HTMLInputElement,l=t instanceof HTMLTextAreaElement,s=t instanceof HTMLSelectElement;o||l?(t.addEventListener("keyup",t=>{e[i]=t.target.value}),t.addEventListener("change",t=>{e[i]=t.target.value})):s&&t.addEventListener("change",t=>{e[i]=t.target.value})},w=(t,e={})=>{const n=t.$attr("dom-tag"),r=t.$attrAll.$keys.filter(t=>t.$$(/^:[\w\-]+$/)).filter(t=>!t.$$(/\:(path|for|if|else\-if|else|model)/));r.$$mt||r.forEach(r=>{function i(t,e=""){r===c?t.id=e:r===h?t._class(e):r===f?t.src=e:r===$?t.alt=e:r===g?t.href=e:r===d?t.innerHTML=e:":bgcolor"===r?null==e||e.length<1?t.style.backgroundColor=l:t.style.backgroundColor=e:":color"===r?null==e||e.length<1?t.style.color=l:t.style.color=e:null==e||e.$$mt?t.attr_(`${r.__(/^:/,"")}`):t._attr({[`${r.__(/^:/,"")}`]:e})}var o;const l=(null!==(o=t.$attr(r))&&void 0!==o?o:"").trim(),s=L(l,e,e=>{const r=document.body.$selAll(`*[dom-tag='${n}']`);r.$$mt||r.forEach(n=>{i(t,e)})});i(t,s),t.attr_(r)})},E=(t,e={},n={})=>{(()=>{const e=t.$parent(),n=t.$attrAll.$keys.filter(t=>t.$$(/^@[\w]+$/));null==e||n.$$mt||n.forEach(e=>{const n=e.__(/\@/,"on"),r=t.$attr(e);t.attr_(e),r&&(t[n]=this.event[r])})})(),(()=>{var r,i;if(!Boolean(n.isFor))return;const l=t.$attr(o),s=null===(r=null==l?void 0:l.match(/^\(?\s*(\w+)/))||void 0===r?void 0:r.$(1),a=null===(i=null==l?void 0:l.match(/\,\s*(\w+)/))||void 0===i?void 0:i.$(1);t.$attrAll.$keys.filter(t=>t.$$(/^:@[\w]+$/)).forEach(r=>{const i=r.__(/^\:\@/,"on"),o=t.$attr(r);let l=null==o?void 0:o.$ary("."),u=e,c=null==l?void 0:l.$(0),h=u[c];if(null==l||l.shift(),!(Boolean(n.isAry)&&c!=s||Boolean(n.isObj)&&c!=a)){for(;(null!=l?l:[]).length>0;)u=h,c=null==l?void 0:l.$(0),h=u[c],null==l||l.shift();null!=h&&(t[i]=this.event[h])}})})()},S=(t,e={},n={})=>{const r=t.$attr("dom-tag")||$key(20);t._attr({"dom-tag":r});const i=t._$(!0),o=t.$parent(),l=t.$i,s=t.innerHTML,a=s.$$(/\{\{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*\}\}/gi);null!=parent&&a&&t.$nodeAll.filter(e=>e.parentElement===t&&e.nodeType===Node.TEXT_NODE).forEach(t=>{var n,s;null===(s=null===(n=t.textContent)||void 0===n?void 0:n.match(/\{\{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*\}\}/gi))||void 0===s||s.forEach(n=>{var s,a,u;const c=null===(s=n.match(textRegexp))||void 0===s?void 0:s.$(1);if(null==c)return;const h=L(c,e,t=>{const n=document.body.$sel(`*[dom-tag='${r}']`);null!=n&&null!=o&&(o._child(i._$(!0),l),n.$rm(),this.initChild(o,e))});t.textContent=null!==(u=null===(a=t.textContent)||void 0===a?void 0:a.convertText(c,h))&&void 0!==u?u:""})})},A=(t,e={})=>{var n,r;const i=t.$attr(o),l=null===(n=null==i?void 0:i.match(val0Regexp))||void 0===n?void 0:n.$(1),s=null===(r=null==i?void 0:i.match(val1Regexp))||void 0===r?void 0:r.$(1);let a=e[s];t.attr_(o),t.$nodeAll.filter(e=>e.parentElement===t&&e.nodeType===Node.TEXT_NODE).forEach(t=>{var n,r;null===(r=null===(n=t.textContent)||void 0===n?void 0:n.match(/\{\{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*\}\}/gi))||void 0===r||r.forEach(n=>{var r,i,o;let u=null===(r=n.match(textRegexp))||void 0===r?void 0:r.$(1),c=u.$ary("."),h=e,f=c.$(0),$=h[f];if(c.shift(),f===l){for(;c.length>0;)h=$,f=c.$(0),$=h[f],c.shift();u=u.__(/(\?|\.|\+|\*)/g,"\\$1");let e=null===(i=t.textContent)||void 0===i?void 0:i.__(`{{\\s*?${u}\\s*?}}`.$regexp("i"),$);null==e&&(e=""),t.textContent=e}const g=f.$ary(regexOperator).$(0),d=f.$ary(regexOperator).$(1);if(g===s){null==f?a=a:f.$$(/\+/)?a+=Number(d)||0:f.$$(/\-/)?a-=Number(d)||0:f.$$(/\*/)?a*=Number(d)||0:f.$$(/\//)?a/=Number(d)||0:f.$$(/\%/)&&(a%=Number(d)||0),u=u.__(/(\?|\.|\+|\*)/g,"\\$1");let e=null===(o=t.textContent)||void 0===o?void 0:o.__(`{{\\s*?${u}\\s*?}}`.$regexp("i"),a);null==e&&(e=""),t.textContent=e}})}),this.initChild(t,e,{isFor:!0})},x=(t,e={})=>{var n,r;const i=t.$attr(o),l=null===(n=null==i?void 0:i.match(val0Regexp))||void 0===n?void 0:n.$(1),s=null===(r=null==i?void 0:i.match(val1Regexp))||void 0===r?void 0:r.$(1);t.attr_(o),t.$nodeAll.filter(e=>e.parentElement===t&&e.nodeType===Node.TEXT_NODE).forEach(t=>{var n,r;null===(r=null===(n=t.textContent)||void 0===n?void 0:n.match(/\{\{\s*([\w\.]+(\s*[\+\-\*\/\%]\s*[0-9]+)?)\s*\}\}/gi))||void 0===r||r.forEach(n=>{var r,i,o;let a=null===(r=n.match(textRegexp))||void 0===r?void 0:r.$(1),u=a.$ary("."),c=e,h=u.$(0),f=c[h];if(u.shift(),h===l){a=a.__(/(\?|\.|\+|\*)/g,"\\$1");let e=null===(i=t.textContent)||void 0===i?void 0:i.__(`{{\\s*?${a}\\s*?}}`.$regexp("i"),f);null==e&&(e=""),t.textContent=e}if(h===s){for(;u.length>0;)c=f,h=u.$(0),f=c[h],u.shift();a=a.__(/(\?|\.|\+|\*)/g,"\\$1");let e=null===(o=t.textContent)||void 0===o?void 0:o.__(`{{\\s*?${a}\\s*?}}`.$regexp("i"),null==f?"":f);null==e&&(e=""),t.textContent=e}})}),this.initChild(t,e,{isFor:!0})},L=(t="",e={},n)=>{if(t.$$mt)return;const r=/^LENGTH\(.+\)/.test(t);t=t.__(/^LENGTH\(|\)$/g,"");let i=t.$ary("."),o=e,l=i.$(0),s=o[l];for(i.shift();i.length>0;)o=s,l=i.$(0),s=o[l],i.shift();return this.dataListener(l,o,t=>{n(t)}),r?s.length:s};this.done=!1,t.$childAll.forEach(t=>{const r=t.$attrAll;if(t.$$class("lazyload")&&$Lazy_Observer.observe(t),t.$$class("svg")&&"SPAN"===t.tagName&&$SVG_Observer.observe(t),null!=t.$parent()&&null==r[s]&&null==r[a]){if(r[i])return y(t,e,n);if(r[o])return v(t,e,n);_(t,e,n),b(t,e),w(t,e),E(t,e,n),S(t,e,n),this.initChild(t,e,n)}}),t.class_("dom-temp"),this.done=!0}}(function(t,e){const n="$",r="$x",i="$y",o="$w",l="$h",s="$sw",a="$sh",u="$nw",c="$nh",h="$len",f="$i",$="$classAll",g="$attrAll",d="$childAll",p="$nodeAll",m="$text",y="_",v="__",_="_$",b="_x",w="_y",E="_w",S="_h",A="_pt",x="_pl",L="_pb",O="_pr",j="_mt",M="_ml",C="_mb",N="_mr",T="style_",R="_style",I="$style",k="class_",D="class__",H="_class",q="__class",U="$$class",B="$$class_",F="$$_class",P="data_",z="_data",G="attr_",V="_attr",W="$attr",J="$$attr",X="_child",Y="__child",Z="$child",K="$parent",Q="$pre",tt="$next",et="$sel",nt="$selAll",rt="$rm",it="_go",ot="_open",lt="_video",st="_display",at="scrollToX",ut="scrollToY",ct="scrollToBottom",ht=["load","click","scroll","mousedown","mouseup","mouseenter","mouseleave","mouseover","mouseout","touchstart","touchmove","touchend","drop","dragstart","dragend","dragenter","dragover","dragleave","focus","blur","input","keydown","keyup","change","contextmenu","cut","paste"];t(e,n,{get:function(){return this.innerHTML}}),t(e,r,{get:function(){return this.scrollLeft}}),t(e,i,{get:function(){return this.scrollTop}}),t(e,o,{get:function(){return this.clientWidth}}),t(e,l,{get:function(){return this.clientHeight}}),t(e,s,{get:function(){return this.scrollWidth}}),t(e,a,{get:function(){return this.scrollHeight}}),t(e,u,{get:function(){return this.naturalWidth}}),t(e,c,{get:function(){return this.naturalHeight}}),t(e,h,{get:function(){return this.children.length}}),t(e,f,{get:function(){const t=this.parentElement;return t instanceof Element?[...t.children].indexOf(this):-1}}),t(e,$,{get:function(){return[...this.classList]}}),t(e,g,{get:function(){let t=new Map;for(const e of this.attributes)t.set(e.name,e.value.trim());return Object.fromEntries(t)}}),t(e,d,{get:function(){return[...this.children]}}),t(e,p,{get:function(){return[...this.childNodes]}}),t(e,m,{get:function(){let t=[];return[...this.childNodes].filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim().length>0).forEach(e=>t.push(e.textContent.trim())),t.join(" ")}}),t(e,y,{value:function(t=""){return this.innerHTML+=String(t),this}}),t(e,v,{value:function(t=""){return this.innerHTML=String(t),this}}),t(e,_,{value:function(t=!1){return this.cloneNode(Boolean(t))}}),t(e,b,{value:function(t=NaN){return t=Number(t),isNaN(t)||(this.scrollLeft=t),this}}),t(e,w,{value:function(t=NaN){return t=Number(t),isNaN(t)||(this.scrollTop=t),this}}),t(e,E,{value:function(t){return null!=t&&(this.style.width="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,S,{value:function(t){return null!=t&&(this.style.height="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,A,{value:function(t){return null!=t&&(this.style.paddingTop="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,x,{value:function(t){return null!=t&&(this.style.paddingLeft="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,L,{value:function(t){return null!=t&&(this.style.paddingBottom="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,O,{value:function(t){return null!=t&&(this.style.paddingRight="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,j,{value:function(t){return null!=t&&(this.style.marginTop="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,M,{value:function(t){return null!=t&&(this.style.marginLeft="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,C,{value:function(t){return null!=t&&(this.style.marginBottom="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,N,{value:function(t){return null!=t&&(this.style.marginRight="string"==typeof t&&t.trim().length>0?t:"number"==typeof t?t+"px":""),this}}),t(e,k,{value:function(t=[]){const e=Array.isArray(t)?t:"string"==typeof t&&t.trim().length>0?t.split(/[,. ]/):[];return e.filter(t=>"string"==typeof t&&t.trim().length>0).forEach(t=>this.classList.remove(t)),this}}),t(e,D,{value:function(){return this.className="",this}}),t(e,H,{value:function(t=[]){const e=Array.isArray(t)?t:"string"==typeof t&&t.trim().length>0?t.split(/[,. ]/):[];return e.filter(t=>"string"==typeof t&&t.trim().length>0).forEach(t=>this.classList.add(t)),this}}),t(e,q,{value:function(t=[]){return this.class__()._class(t),this}}),t(e,U,{value:function(t=""){return"string"==typeof t&&t.trim().length>0&&this.classList.contains(t)}}),t(e,B,{value:function(t=!1,e=[]){return Boolean(t)&&"string"==typeof e&&e.trim().length>0?this.class_(e):this._class(e),this}}),t(e,F,{value:function(t=!1,e=[]){return Boolean(t)&&"string"==typeof e&&e.trim().length>0?this._class(e):this.class_(e),this}}),t(e,T,{value:function(t=[]){const e=Array.isArray(t)?t:"string"==typeof t&&t.trim().length>0?t.split(/[,. ]/):[];return e.filter(t=>"string"==typeof t&&t.trim().length>0&&/^[\w\-]+$/.test(t)).forEach(t=>this.style[t]=""),this}}),t(e,R,{value:function(t={}){return("object"!=typeof t||null==t||Array.isArray(t)?[]:Object.keys(t)).filter(t=>"string"==typeof t&&t.trim().length>0&&/^[\w\-]+$/.test(t)).forEach(e=>this.style[e]=t[e]),this}}),t(e,I,{value:function(t=""){return"string"==typeof t&&t.trim().length>0&&/^[\w\-]+$/.test(t)?this.style[t]:null}}),t(e,P,{value:function(t=[]){const e=Array.isArray(t)?t:"string"==typeof t&&t.trim().length>0?t.split(/[,. ]/):[];return e.filter(t=>"string"==typeof t&&t.trim().length>0).forEach(t=>delete this.dataset[`${t}`]),this}}),t(e,z,{value:function(t={}){return("object"!=typeof t||null==t||Array.isArray(t)?[]:Object.keys(t)).filter(t=>"string"==typeof t&&t.trim().length>0).forEach(e=>this.dataset[`${e}`]=t[e]),this}}),t(e,G,{value:function(t=[]){const e=Array.isArray(t)?t:"string"==typeof t&&t.trim().length>0?t.split(/[,. ]/):[];return e.filter(t=>"string"==typeof t&&t.trim().length>0).forEach(t=>this.removeAttribute(t)),this}}),t(e,V,{value:function(t={}){return("object"!=typeof t||null==t||Array.isArray(t)?[]:Object.keys(t)).filter(t=>"string"==typeof t&&t.trim().length>0).forEach(e=>this.setAttribute(e,t[e])),this}}),t(e,W,{value:function(t=""){var e;return"string"==typeof t&&t.trim().length>0&&null!==(e=this.getAttribute(t))&&void 0!==e?e:null}}),t(e,J,{value:function(t=""){if("string"==typeof t&&t.trim().length>0){const e=this.getAttribute(t);return null!=e&&!e.trim().$$mt}return!1}}),t(e,X,{value:function(t=[],e){return"string"==typeof t&&t.trim().length>0||"number"==typeof t?this.innerHTML+=t:Array.isArray(t)&&t.length>1?t.forEach(t=>{"string"==typeof t&&t.trim().length>0||"number"==typeof t?this.innerHTML+=t:null!=t&&this.appendChild(t)}):Array.isArray(t)&&1===t.length?e instanceof Element&&e.parentElement===this?this.insertBefore(t[0],e):"number"==typeof e&&Math.abs(e)<=this.children.length?this.insertBefore(t[0],this.children[e]):null!=t[0]&&this.appendChild(t[0]):e instanceof Element&&e.parentElement===this?this.insertBefore(t,e):"number"==typeof e&&Math.abs(e)<=this.children.length?this.insertBefore(t,this.children[e]):null!=t&&this.appendChild(t),this}}),t(e,Y,{value:function(t=[]){return this.__()._child(t),this}}),t(e,Z,{value:function(t=[]){let e=this;return Array.isArray(t)?t.forEach(t=>{"string"==typeof t&&t.trim().length>0?e=e.querySelector(t):"number"==typeof t&&Math.abs(t)<=e.children.length&&(e=e.children[(t<0?e.children.length:0)+t])}):"string"==typeof t&&t.trim().length>0?e=this.querySelector(t):"number"==typeof t&&Math.abs(t)<=this.children.length&&(e=this.children[(t<0?this.children.length:0)+t]),e===this?void 0:e}}),t(e,K,{value:function(t=0){let e=this.parentElement;if("number"==typeof t&&t>0)for(var n=0;n<t&&null!=e;n++)e=e.parentElement;return e}}),t(e,Q,{value:function(t=0){let e=this.previousElementSibling;if("number"==typeof t&&t>0)for(var n=0;n<t&&null!=e;n++)e=e.previousElementSibling;return e}}),t(e,tt,{value:function(t=0){let e=this.nextElementSibling;if("number"==typeof t&&t>0)for(var n=0;n<t&&null!=e;n++)e=e.nextElementSibling;return e}}),t(e,et,{value:function(t=""){return"string"==typeof t&&t.trim().length>0?this.querySelector(t):null}}),t(e,nt,{value:function(t=""){var e;return"string"==typeof t&&t.trim().length>0&&null!==(e=this.querySelectorAll(t))&&void 0!==e?e:[]}}),t(e,rt,{value:function(){this.remove()}}),t(e,it,{value:function(t=""){return"string"==typeof t&&t.trim().length>0&&(this.href=t),this.target="_self",this}}),t(e,ot,{value:function(t=""){return"string"==typeof t&&t.trim().length>0&&(this.href=t),this.target="_blank",this}}),ht.forEach(n=>t(e,`_${n}`,{value:function(t){return t instanceof Function&&(this[`on${n}`]=t),this}})),t(e,lt,{value:function(t={}){if(this instanceof HTMLVideoElement&&(this._attr({controlsList:["nodownload","noremoteplayback"].join(",")}),"string"==typeof t.preload&&(this.preload=t.preload),"boolean"==typeof t.loop&&(this.loop=t.loop),"boolean"==typeof t.muted&&(this.muted=t.muted),"boolean"==typeof t.controls&&(this.controls=t.controls),"boolean"==typeof t.playsinline&&t.playsinline&&this._attr({playsinline:""}),"boolean"==typeof t.download||"boolean"==typeof t.remote)){let e=[];t.download||e.push("nodownload"),t.remote||e.push("noremoteplayback"),this._attr({controlsList:e.join(" ")})}return this}}),t(e,st,{value:function(t=""){const e="string"==typeof t&&t.trim().length>0;return e&&this._style({display:t}),this}}),t(e,at,{value:function(t,e){if("number"!=typeof t)return this;const n=this.clientWidth,r=this.scrollWidth;let i=r-t<n?r-n:t;return this.scrollTo({left:i,behavior:"smooth"}),this}}),t(e,ut,{value:function(t,e){if("number"!=typeof t)return this;const n=this.clientHeight,r=this.scrollHeight;let i=r-t<n?r-n:t;return this.scrollTo({top:i,behavior:"smooth"}),this}}),t(e,ct,{value:function(){let t=this.scrollHeight-this.clientHeight;return this.scrollTo({top:t,behavior:"smooth"}),this}})})(Object.defineProperty,Element.prototype),function(t,e){const n="$len",r="$childAll",i="$nodeAll",o="$str",l="_$",s="_child";t(e,n,{get:function(){return this.children.length}}),t(e,r,{get:function(){return[...this.children]}}),t(e,i,{get:function(){return[...this.childNodes]}}),t(e,o,{get:function(){let t="div"._();return t.appendChild(this),t.innerHTML}}),t(e,l,{value:function(t=!1){return this.cloneNode(Boolean(t))}}),t(e,s,{value:function(t=[]){return"string"==typeof t&&t.trim().length>0||"number"==typeof t?this.appendChild(document.createTextNode(String(t))):Array.isArray(t)&&t.length>1?t.forEach(t=>{"string"==typeof t&&t.trim().length>0||"number"==typeof t?this.appendChild(document.createTextNode(String(t))):null!=t&&this.appendChild(t)}):Array.isArray(t)&&1===t.length?this.appendChild(t[0]):null!=t&&this.appendChild(t),this}})}(Object.defineProperty,DocumentFragment.prototype),function(t,e){const n="$jpg",r="$png",i="$base64",o="$blob",l="_downloadJPG",s="_downloadPNG";t(e,n,{value:function(t){const e="number"==typeof t,n=document.createElement("canvas"),r=n.getContext("2d"),i=parseInt(this.width),o=parseInt(this.height);if(r){if(e&&t<Math.max(i,o)){const e=i/o,r=t/Math.max(i,o);n.width=Math.floor(e*o*r),n.height=Math.floor(i/e*r)}else n.width=i,n.height=o;return r.fillStyle="white",r.fillRect(0,0,n.width,n.height),r.drawImage(this,0,0,n.width,n.height),n.toDataURL("image/jpeg",1)}}}),t(e,r,{value:function(t){const e="number"==typeof t,n=document.createElement("canvas"),r=n.getContext("2d"),i=parseInt(this.width),o=parseInt(this.height);if(r){if(e&&t<Math.max(i,o)){const e=i/o,r=t/Math.max(i,o);n.width=Math.floor(e*o*r),n.height=Math.floor(i/e*r)}else n.width=i,n.height=o;return r.fillStyle="white",r.fillRect(0,0,n.width,n.height),r.drawImage(this,0,0,n.width,n.height),n.toDataURL("image/png",1)}}}),t(e,i,{value:function(t="image/jpeg"){const e=document.createElement("canvas"),n=e.getContext("2d");if(n)return e.width=this.width,e.height=this.height,n.drawImage(this,0,0),e.toDataURL(t,1)}}),
t(e,o,{value:function(t="image/jpeg"){const e=this.$base64(t).split(";base64,"),n=e[0].split(":")[1],r=window.atob(e[1]),i=r.length,o=new Uint8Array(i);for(let t=0;t<i;++t)o[t]=r.charCodeAt(t);return new Blob([o],{type:n})}}),t(e,l,{value:function(t){const e=(()=>null==this.src?"image.jpg":this.src.substring(this.src.lastIndexOf("/")+1))(),n="a"._(),r=URL.createObjectURL(this.$blob("image/jpeg"));n.href=r,n.download=null==t?e:t,n._attr({type:"application/octet-stream"}),document.body._child(n),n.click(),n.$rm(),URL.revokeObjectURL(r)}}),t(e,s,{value:function(t){const e=(()=>null==this.src?"image.png":this.src.substring(this.src.lastIndexOf("/")+1))(),n="a"._(),r=URL.createObjectURL(this.$blob("image/png"));n.href=r,n.download=null==t?e:t,n._attr({type:"application/octet-stream"}),document.body._child(n),n.click(),n.$rm(),URL.revokeObjectURL(r)}})}(Object.defineProperty,Image.prototype);class $listener{constructor(t){t=null!=t?t:{},this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t.do instanceof Function&&t.do(e.target)})}),"string"==typeof t.selector&&[].slice.call(document.querySelectorAll(t.selector)).forEach(t=>this.observe(t))}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}}let $SVG_Observer,$Lazy_Observer;(function(t,e){const n="$obj",r="$len",i="$$mt",o="_",l="$";t(e,n,{get:function(){return Object.fromEntries(this)}}),t(e,r,{get:function(){return this.size}}),t(e,i,{get:function(){return 0===this.size}}),t(e,o,{value:function(t,e){const n=new Map(this);return n.set(t,e),n}}),t(e,l,{value:function(t){return this.get(t)}})})(Object.defineProperty,Map.prototype),function(t,e){const n="$str",r="$num",i="$date",o="$gone",l="$loop",s="$y",a="$M",u="$MM",c="$D",h="$DD",f="$d",$="$dd",g="$h",d="$hh",p="$m",m="$mm",y="$s",v="$ss";t(e,n,{get:function(){return String(this).toString()}}),t(e,r,{get:function(){return Number(this)}}),t(e,i,{get:function(){return new Date(1e3*this)}}),t(e,o,{get:function(){const t=Math.floor(Date.now()/1e3),e=parseInt(this),n=Math.abs(t-e),r=t>e,i=r?"":"還有",o=r?"前":"";return n>=31536e3?`${i}${Math.floor(n/31536e3)}年${o}`:n>=2592e3?`${i}${Math.floor(n/2592e3)}個月${o}`:n>=604800?`${i}${Math.floor(n/604800)}週${o}`:n>=86400?`${i}${Math.floor(n/86400)}天${o}`:n>=3600?`${i}${Math.floor(n/3600)}小時${o}`:n>=60?`${i}${Math.floor(n/60)}分鐘${o}`:"剛剛"}}),t(e,l,{value:function(t){if(t instanceof Function)for(let e=0;e<this;e++)t(e)}}),t(e,s,{value:function(){const t=parseInt(this);return t.$date.getFullYear()}}),t(e,a,{value:function(){const t=parseInt(this);return t.$date.getMonth()+1}}),t(e,u,{value:function(){const t=parseInt(this),e=t.$date.getMonth()+1;return e<10?`0${e}`:String(e)}}),t(e,c,{value:function(){const t=parseInt(this);return t.$date.getDate()}}),t(e,h,{value:function(){const t=parseInt(this),e=t.$date.getDate();return e<10?`0${e}`:String(e)}}),t(e,f,{value:function(){const t=parseInt(this);return t.$date.getDay()}}),t(e,$,{value:function(){const t=parseInt(this),e=t.$date.getDay();return 0===e?"星期日":1===e?"星期一":2===e?"星期二":3===e?"星期三":4===e?"星期四":5===e?"星期五":6===e?"星期六":null}}),t(e,g,{value:function(){const t=parseInt(this);return t.$date.getHours()}}),t(e,d,{value:function(){const t=parseInt(this),e=t.$date.getHours();return e<10?`0${e}`:String(e)}}),t(e,p,{value:function(){const t=parseInt(this);return t.$date.getMinutes()}}),t(e,m,{value:function(){const t=parseInt(this),e=t.$date.getMinutes();return e<10?`0${e}`:String(e)}}),t(e,y,{value:function(){const t=parseInt(this);return t.$date.getSeconds()}}),t(e,v,{value:function(){const t=parseInt(this),e=t.$date.getSeconds();return e<10?`0${e}`:String(e)}})}(Object.defineProperty,Number.prototype),function(t,e){const n="$map",r="$keys",i="$vals",o="$",l="$$",s="$forEach";t(e,n,{get:function(){const t=new Map;for(const e in this)this.hasOwnProperty(e)&&t.set(e,this[e]);return t}}),t(e,r,{get:function(){return Object.keys(this)}}),t(e,i,{get:function(){return Object.values(this)}}),t(e,o,{value:function(t){return null==t?null:this[String(t)]}}),t(e,l,{value:function(t){return null!=t&&null!=this[String(t)]}}),t(e,s,{value:function(t){if(t instanceof Function)for(const e in this)this.hasOwnProperty(e)&&t(e,this[e])}})}(Object.defineProperty,Object.prototype),function(t,e,n){const r="$camel",i="$len",o="$num",l="$json",s="$img",a="$html",u="$$json",c="$$mt",h="__",f="$ary",$="$regexp",g="$$200",d="$req",p="$$",m="$fit",y="$en",v="$de",_="$copy";t(e,r,{get:function(){let t=this.toString().replace(/-+/g," "),e=t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()});return e.replace(/\s+/g,"")}}),t(e,i,{get:function(){return this.toString().length}}),t(e,o,{get:function(){const t=this.toString(),e=Number(t.replace(/\,/g,""));return isNaN(e)?void console.error(`${t}: 非數字.`):e}}),t(e,l,{get:function(){const t=this.toString();try{return JSON.parse(t)}catch(e){return void console.error(`${t}: 非JSON.`)}}}),t(e,a,{get:function(){const t={" ":"&nbsp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return this.toString().replace(/[  \<\>\"\']/g,e=>t[e])}}),t(e,s,{get:async function(){return new Promise((t,e)=>{let n=new Image;n.src=this.toString(),n.crossOrigin="anonymous",n.onload=(()=>{t(n)}),n.onerror=e})}}),t(e,u,{get:function(){try{return JSON.parse(this.toString()),!0}catch(t){return!1}}}),t(e,c,{get:function(){return 0===this.toString().trim().length}}),t(e,h,{value:function(t="",e=""){return this.toString().replace(t instanceof RegExp?t:String(t),String(e))}}),t(e,f,{value:function(t=""){return this.toString().split(t instanceof RegExp?t:String(t))}}),t(e,$,{value:function(t=""){return new RegExp(this.toString(),String(t))}});let b=!1;t(e,d,{value:function(t={}){if(null==t)return;const e=this.toString(),n="object"==typeof t.json&&null!=t.json&&!Array.isArray(t.json);let r;return t.files&&t.tag?(r=new FormData,n&&Object.keys(t.json).forEach(e=>r.append(e,t.json[e])),t.files.forEach(e=>r.append(t.tag,e))):n&&(r=JSON.stringify(t.json)),new Promise((n,i)=>{var o,l;if(b)return i("等待請求完成.");b=!0;const s=new XMLHttpRequest;s.open(null!==(o=t.method)&&void 0!==o?o:"GET",e),t.header&&Object.keys(t.header).forEach(e=>{s.setRequestHeader(e,t.header[e])}),s.withCredentials=null!==(l=Boolean(t.credentials))&&void 0!==l&&l,s.onreadystatechange=(()=>{switch(s.readyState){case 1:case 2:case 3:break;case 4:b=!1;const t=s.responseText;if(/^(4|5)[0-9]{2}/.test(String(s.status)))return i(t);try{n(JSON.parse(t),s.status)}catch(e){n(t,s.status)}}}),s.send(r)})}}),t(e,m,{value:function(t){if(null!=t)return this.toString().match(t)}}),t(e,y,{value:function(t){return null!=t&&t?encodeURIComponent(this.toString()):encodeURI(this.toString())}}),t(e,v,{value:function(t){return null!=t&&t?decodeURIComponent(this.toString()):decodeURI(this.toString())}}),t(e,_,{value:async function(){try{await navigator.clipboard.writeText(this.toString())}catch(t){console.error(t)}}}),t(e,p,{value:function(t){const e="string"==typeof t?t.trim()===this.toString().trim():t instanceof RegExp?t.test(this.toString()):this.toString().trim().length>0;return e}}),t(e,g,{value:async function(){return new Promise((t,e)=>{const n=new Image;n.src=this.toString(),n.onload=(e=>t(e)),n.onerror=(t=>e(t))})}});const w="$url",E="$queryAll",S="_history",A="__history",x="query_",L="query__",O="_query",j="__query",M="$query";t(e,w,{get:function(){try{return new URL(this.toString())}catch(t){return new URL(`${location.origin}${this.toString()}`)}}}),t(e,E,{get:function(){return this.toString().$url.$queryAll}}),[S,A,x,L,O,j,M].forEach(n=>t(e,n,{value:function(){const t=this.toString().$url;return t[n].apply(t,Object.values(arguments))}}));const C="_fa",N="$",T="$all",R="$init",I="_";t(e,C,{get:function(){return`i.${this.toString().replace(/\s/,".")}`._()}}),t(e,N,{get:function(){var t;return this.toString().startsWith("#")?document.getElementById(this.substring(1)):/[\.\[\]]/.test(this.toString())?document.querySelector(this.toString()):null!==(t=document.getElementById(this.toString()))&&void 0!==t?t:document.querySelector(this.toString())}}),t(e,T,{get:function(){return document.querySelectorAll(this.toString())}}),t(e,I,{value:function(t,e){const r=/^(svg|rect|circle|ellipse|line|polyline|polygon|path|text|tspan|g|defs|symbol|image|use|clipPath|mask|linearGradient|radialGradient)$/i,i=/^\w+(?=[\#\.]*)/i,o=/\#([\w_-]+)?/i,l=/\.([\w_-]+)?/gi,s=i.test(this)?this.match(i)[0]:null,a=r.test(s),u="temp"===this.toString(),c="txt"===this.toString(),h=u?document.createDocumentFragment():c?document.createTextNode(String(t)):a?n.createElementNS("http://www.w3.org/2000/svg",s):n.createElement(s),f=l.test(this)?this.match(l):[],$=this.match(o);if(c)return h;$&&(h.id=$[1]),f.forEach(t=>h.classList.add(t.replace(/^\./,"")));const g=n[R];if(!g)return h;const d=/^span\.svg/i.test(this);let p,m;if(d&&$SVG_Observer&&$SVG_Observer.observe(h),null==t&&null!=e&&([t,e]=[e,null]),null!=t&&null!=e)[p,m]=[t,e];else if(null==e)"string"==typeof t||"number"==typeof t||Array.isArray(t)?m=t:p=t;else if(null==t)return h;const y="input"===s,v="textarea"===s;if(y||v){const t=/\s(.+)/i,e=this.match(t);h.placeholder=e?e[1]:"";const n=/\@(\w+)/i,r=this.match(n);y&&(h.type=r?r[1]:"test")}if("object"==typeof p&&null!=p&&Object.keys(p).forEach(t=>{const e=p[t];["value","innerText","innerHTML","textContent","contentEditable"].includes(t)?h[t]=e:["color","backgroundColor"].includes(t)?h.style[t]=e:"style"===t?Object.keys(e).forEach(t=>h.style[t]=e[t]):"lazyload"===t?$Lazy_Observer?(h.classList.add("lazyload"),h.setAttribute("data-src",e),$Lazy_Observer.observe(h)):h.src=e:null!=e&&h.setAttribute(t,e)}),null!=m){const t="string"==typeof m,e="number"==typeof m,n=Array.isArray(m);if(t||e){const t=String(m),e="img"===s,n="source"===s;e?h.src=t:n?h.src=t:h.innerHTML=t}else n&&m.forEach(t=>{const e="string"==typeof t,n="number"==typeof t,r=t instanceof Element;e||n?u?h.appendChild(document.createTextNode(String(t))):h.innerHTML+=t:r&&h.appendChild(t)})}return h}})}(Object.defineProperty,String.prototype,document),function(t,e){const n="$queryAll",r="_history",i="__history",o="_query",l="__query",s="query_",a="query__",u="$query";t(e,n,{get:function(){const t=new URLSearchParams(this.search),e=new Map;return t.forEach((t,n)=>{e.set(t,n)}),Object.fromEntries(e)}}),t(e,r,{value:function(t){const e=this.href;return $history.push(e),history.pushState(null,"",e),"string"==typeof t&&t.trim().length>0&&(document.title=t),this}}),t(e,i,{value:function(t){const e=this.href;return $history.pop(),$history.push(e),history.replaceState(null,"",e),"string"==typeof t&&t.trim().length>0&&(document.title=t),this}}),t(e,s,{value:function(t){let e=this.origin+this.pathname,n=this.$queryAll;return"string"==typeof t&&t.trim().length>0?n[t]=null:Array.isArray(t)&&t.forEach(t=>{n[String(t)]=null}),Object.keys(n).forEach((t,r)=>{e+=`${0==r?"?":"&"}${t}=${n[t]}`}),new URL(e)}}),t(e,a,{value:function(){return new URL(this.origin+this.pathname)}}),t(e,o,{value:function(t){let e=this.origin+this.pathname,n=this.$queryAll;return"object"!=typeof t||null==t||Array.isArray(t)||Object.keys(t).forEach(e=>n[e]=t[e]),Object.keys(n).forEach((t,r)=>e+=`${0==r?"?":"&"}${t}=${n[t]}`),new URL(e)}}),t(e,l,{value:function(t){return this.query__()._query(t)}}),t(e,u,{value:function(t){return this.searchParams.get(t)}})}(Object.defineProperty,URL.prototype);